<?xml version="1.0" encoding="UTF-8"?>
<!-- @formatter:off -->

<!--
feature:repo-add mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-karaf-features/LATEST/xml/features
 -->
<features xmlns="http://karaf.apache.org/xmlns/features/v1.4.0" name="QLACK2-FUSE">
  <!-- External repos -->
  <repository>mvn:com.eurodyn.qlack2.util/qlack2-util-karaf-features/${project.version}/xml/features</repository>
  <repository>mvn:com.eurodyn.qlack2.common/qlack2-common-karaf-features/${project.version}/xml/features</repository>
  <repository>mvn:org.kie/kie-karaf-features/${jbpm.version}/xml/features-core</repository>
  <repository>mvn:org.kie/kie-karaf-features/${jbpm.version}/xml/features</repository>
  <repository>mvn:com.eurodyn.qlack2.util/qlack2-util-repack-karaf-features/${project.version}/xml/features</repository>

  <feature description="Jackson libs" name="qlack2-jackson-libs" version="${project.version}">
    <bundle>mvn:com.fasterxml.jackson.datatype/jackson-datatype-jsr310/${jackson.datatype.version}</bundle>
    <bundle>mvn:com.fasterxml.jackson.core/jackson-core/${jackson.datatype.version}</bundle>
    <bundle>mvn:com.fasterxml.jackson.core/jackson-annotations/${jackson.datatype.version}</bundle>
    <bundle>mvn:com.fasterxml.jackson.core/jackson-databind/${jackson2.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- AAA                                                                                       -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - AAA" name="qlack2-fuse-AAA" version="${project.version}">
    <feature>qlack2-fuse-AAA-deps</feature>
    <feature>qlack2-fuse-AAA-api</feature>
    <feature>qlack2-fuse-AAA-impl</feature>
    <feature>qlack2-fuse-AAA-cli</feature>
  </feature>
  <feature description="QLACK2 Fuse - AAA (api)" name="qlack2-fuse-AAA-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-aaa-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - AAA (impl)" name="qlack2-fuse-AAA-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-aaa-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - AAA (cli)" name="qlack2-fuse-AAA-cli" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-aaa-commands/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - AAA (deps)" name="qlack2-fuse-AAA-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>eventadmin</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>qlack2-util-repack-jackson</feature>
    <feature>qlack2-util-repack-querydsl</feature>
    <feature>pax-cdi</feature>
    <!--<bundle>mvn:javax.annotation/javax.annotation-api/${javax.annotation-api.version}</bundle>-->
    <bundle>mvn:commons-codec/commons-codec/${commons.codec.version}</bundle>
    <bundle>mvn:joda-time/joda-time/${joda.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
    <bundle>mvn:commons-collections/commons-collections/${commons.collections.version}</bundle>
    <bundle>wrap:mvn:org.beanshell/bsh/${beanshell.version}</bundle>
    <bundle>mvn:org.yaml/snakeyaml/${snakeyaml.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- AUDITING                                                                                  -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Auditing" name="qlack2-fuse-auditing" version="${project.version}">
    <feature>qlack2-fuse-auditing-deps</feature>
    <feature>qlack2-fuse-auditing-api</feature>
    <feature>qlack2-fuse-auditing-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Auditing (impl)" name="qlack2-fuse-auditing-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-auditing-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Auditing (api)" name="qlack2-fuse-auditing-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-auditing-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Auditing (deps)" name="qlack2-fuse-auditing-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jackson</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>eventadmin</feature>
    <feature>qlack2-fuse-eventpublisher</feature>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <bundle>mvn:commons-codec/commons-codec/${commons.codec.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- BLOG                                                                                      -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Blog" name="qlack2-fuse-blog" version="${project.version}">
    <feature>qlack2-fuse-blog-deps</feature>
    <feature>qlack2-fuse-blog-api</feature>
    <feature>qlack2-fuse-blog-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Blog (api)" name="qlack2-fuse-blog-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-blog-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Blog (impl)" name="qlack2-fuse-blog-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-blog-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Blog (deps)" name="qlack2-fuse-blog-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>qlack2-util-repack-jackson</feature>
    <feature>qlack2-util-repack-querydsl</feature>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- CACHING                                                                                   -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Caching (api)" name="qlack2-fuse-caching-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-caching-api/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Caching (memcached)" name="qlack2-fuse-caching-memcached" version="${project.version}">
    <feature dependency="true">wrap</feature>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
    <bundle>wrap:mvn:net.spy/spymemcached/${memcached.version}</bundle>
    <bundle>mvn:commons-codec/commons-codec/${commons.codec.version}</bundle>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-caching-memcached/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Caching (redis)" name="qlack2-fuse-caching-redis" version="${project.version}">
    <feature>jackson-databind</feature>
    <bundle>mvn:org.apache.commons/commons-pool2/${commons.pool2.version}</bundle>
    <bundle>mvn:redis.clients/jedis/${jedis.version}</bundle>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-caching-redis/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Caching (local)" name="qlack2-fuse-caching-local" version="${project.version}">
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-caching-local/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Caching (CLI)" name="qlack2-fuse-caching-cli" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-caching-cli/${project.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- CALENDAR                                                                                  -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Calendar" name="qlack2-fuse-calendar" version="${project.version}">
    <feature>qlack2-fuse-calendar-deps</feature>
    <feature>qlack2-fuse-calendar-api</feature>
    <feature>qlack2-fuse-calendar-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Calendar (api)" name="qlack2-fuse-calendar-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-calendar-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Calendar (impl)" name="qlack2-fuse-calendar-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-calendar-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Calendar (deps)" name="qlack2-fuse-calendar-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
    <bundle>mvn:commons-lang/commons-lang/${commons.lang.version}</bundle>
    <bundle>mvn:org.mnode.ical4j/ical4j/${ical4j.version}</bundle>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <bundle>mvn:org.apache.geronimo.bundles/backport-util-concurrent/${backport.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- CHAT / IM                                                                                 -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - ChatIM" name="qlack2-fuse-chat-im" version="${project.version}">
    <feature>qlack2-fuse-chat-im-deps</feature>
    <feature>qlack2-fuse-chat-im-api</feature>
    <feature>qlack2-fuse-chat-im-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - ChatIM (api)" name="qlack2-fuse-chat-im-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-chat-im-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - ChatIM (impl)" name="qlack2-fuse-chat-im-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-chat-im-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - ChatIM (deps)" name="qlack2-fuse-chat-im-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <feature>qlack2-util-repack-jpadb</feature>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- CLIPBOARD                                                                                 -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Clipboard" name="qlack2-fuse-clipboard" version="${project.version}">
    <feature>qlack2-fuse-clipboard-deps</feature>
    <feature>qlack2-fuse-clipboard-api</feature>
    <feature>qlack2-fuse-clipboard-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Clipboard (api)" name="qlack2-fuse-clipboard-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-clipboard-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Clipboard (impl)" name="qlack2-fuse-clipboard-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-clipboard-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Clipboard (deps)" name="qlack2-fuse-clipboard-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- COMPONENT LIBRARY                                                                         -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Component Library" name="qlack2-fuse-component-library" version="${project.version}">
    <feature>qlack2-fuse-component-library-deps</feature>
    <feature>qlack2-fuse-component-library-api</feature>
    <feature>qlack2-fuse-component-library-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Component Library (api)" name="qlack2-fuse-component-library-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-component-library-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Component Library (impl)" name="qlack2-fuse-component-library-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-component-library-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Component Library (deps)" name="qlack2-fuse-component-library-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
    <bundle>mvn:commons-lang/commons-lang/${commons.lang.version}</bundle>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- CONTENT MANAGER                                                                           -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - ContentManager" name="qlack2-fuse-content-manager" version="${project.version}">
    <feature>qlack2-fuse-content-manager-deps</feature>
    <feature>qlack2-fuse-content-manager-api</feature>
    <feature>qlack2-fuse-content-manager-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - ContentManager (api)" name="qlack2-fuse-content-manager-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-content-manager-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - ContentManager (impl)" name="qlack2-fuse-content-manager-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-content-manager-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - ContentManager (deps)" name="qlack2-fuse-content-manager-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>pax-cdi</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>qlack2-util-repack-querydsl</feature>
    <bundle>mvn:joda-time/joda-time/${joda.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
    <bundle>mvn:org.springframework/spring-beans/${spring.beans.version}</bundle>
    <bundle>mvn:org.springframework/spring-core/${spring.core.version}</bundle>
    <bundle>mvn:org.apache.tika/tika-core/${tika.version}</bundle>
    <bundle>mvn:org.apache.tika/tika-bundle/${tika.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- CRYPTO                                                                                    -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Crypto" name="qlack2-fuse-crypto" version="${project.version}">
    <feature>qlack2-fuse-crypto-deps</feature>
    <feature>qlack2-fuse-crypto-api</feature>
    <feature>qlack2-fuse-crypto-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Crypto (api)" name="qlack2-fuse-crypto-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-crypto-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Crypto (impl)" name="qlack2-fuse-crypto-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-crypto-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Crypto (deps)" name="qlack2-fuse-crypto-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>jndi</feature>
    <bundle>mvn:commons-codec/commons-codec/${commons.codec.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- FILE UPLOAD                                                                               -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - File Upload" name="qlack2-fuse-fileupload" version="${project.version}">
    <configfile finalname="/etc/com.eurodyn.qlack2.fuse.fileupload.cfg">mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-file-upload-impl/${project.version}/cfg/config-admin</configfile>
    <feature dependency="true">wrap</feature>
    <feature>qlack2-fuse-fileupload-deps</feature>
    <feature>qlack2-fuse-fileupload-api</feature>
    <feature>qlack2-fuse-fileupload-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - File Upload (api)" name="qlack2-fuse-fileupload-api" version="${project.version}">
    <feature>qlack2-common-util</feature>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-file-upload-api/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - File Upload (impl)" name="qlack2-fuse-fileupload-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-file-upload-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - File Upload (deps)" name="qlack2-fuse-fileupload-deps" version="${project.version}">
    <bundle>wrap:mvn:io.sensesecure/clamav4j/${clamav4j.version}</bundle>
    <bundle>mvn:commons-io/commons-io/${commons.io.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- FORUM                                                                                     -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Forum" name="qlack2-fuse-forum" version="${project.version}">
    <feature>qlack2-fuse-forum-deps</feature>
    <feature>qlack2-fuse-forum-api</feature>
    <feature>qlack2-fuse-forum-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Forum (api)" name="qlack2-fuse-forum-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-forum-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Forum (impl)" name="qlack2-fuse-forum-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-forum-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Forum (deps)" name="qlack2-fuse-forum-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>qlack2-util-repack-querydsl</feature>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- IDM                                                                                       -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Identity Manager" name="qlack2-fuse-idm" version="${project.version}">
    <feature>qlack2-fuse-idm-deps</feature>
    <feature>qlack2-fuse-idm-api</feature>
    <feature>qlack2-fuse-idm-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Identity Manager (api)" name="qlack2-fuse-idm-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-idm-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Identity Manager (impl)" name="qlack2-fuse-idm-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-idm-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Identity Manager (deps)" name="qlack2-fuse-idm-deps" version="${project.version}">
    <feature>qlack2-fuse-AAA</feature>
    <feature>qlack2-fuse-crypto</feature>
    <feature>qlack2-fuse-ticketserver</feature>
    <feature>cxf-jaxrs</feature>
    <feature>qlack2-util-repack-jackson-rs</feature>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
    <bundle>mvn:joda-time/joda-time/${joda.version}</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aspectj/${aspectj.servicemix.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- IMAGING                                                                                   -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Imaging" name="qlack2-fuse-imaging" version="${project.version}">
    <feature>qlack2-fuse-imaging-deps</feature>
    <feature>qlack2-fuse-imaging-api</feature>
    <feature>qlack2-fuse-imaging-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Imaging (api)" name="qlack2-fuse-imaging-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-imaging-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Imaging (impl)" name="qlack2-fuse-imaging-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-imaging-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Imaging (deps)" name="qlack2-fuse-imaging-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>pax-cdi</feature>
    <feature>qlack2-util-repack-zxing</feature>
    <feature dependency="true">qlack2-util-repack-twelvemonkeys</feature>
    <feature>qlack2-util-repack-batik</feature>
    <bundle>mvn:org.apache.tika/tika-core/${tika.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
    <bundle>mvn:commons-io/commons-io/${commons.io.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- LEXICON                                                                                   -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Lexicon" name="qlack2-fuse-lexicon" version="${project.version}">
    <feature>qlack2-fuse-lexicon-deps</feature>
    <feature>qlack2-fuse-lexicon-api</feature>
    <feature>qlack2-fuse-lexicon-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Lexicon (api)" name="qlack2-fuse-lexicon-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-lexicon-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Lexicon (impl)" name="qlack2-fuse-lexicon-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-lexicon-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Lexicon (deps)" name="qlack2-fuse-lexicon-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>eventadmin</feature>
    <feature>qlack2-util-repack-querydsl</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <bundle>mvn:org.freemarker/freemarker/${freemarker.version}</bundle>
    <bundle>mvn:org.yaml/snakeyaml/${snakeyaml.version}</bundle>
    <bundle>mvn:joda-time/joda-time/${joda.version}</bundle>
    <bundle>mvn:commons-codec/commons-codec/${commons.codec.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.poi/${apache.poi.servicemix.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- MAILING                                                                                   -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Mailing" name="qlack2-fuse-mailing" version="${project.version}">
    <feature>qlack2-fuse-mailing-deps</feature>
    <feature>qlack2-fuse-mailing-api</feature>
    <feature>qlack2-fuse-mailing-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Mailing (api)" name="qlack2-fuse-mailing-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-mailing-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Mailing (impl)" name="qlack2-fuse-mailing-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-mailing-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Mailing (deps)" name="qlack2-fuse-mailing-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>qlack2-util-liquibase</feature>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <bundle>mvn:org.apache.aries.blueprint/blueprint-maven-plugin-annotation/${blueprint-maven-plugin-annotation.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-email/${commons-email.version}</bundle>
    <bundle>mvn:commons-codec/commons-codec/${commons.codec.version}</bundle>
    <bundle>mvn:com.sun.mail/javax.mail/${javax.mail.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Rules Runtime" name="qlack2-fuse-rules-runtime"
    version="${project.version}">
    <feature>qlack2-fuse-rules-runtime-deps</feature>
    <feature>qlack2-fuse-rules-runtime-api</feature>
    <feature>qlack2-fuse-rules-runtime-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Rules Runtime (api)" name="qlack2-fuse-rules-runtime-api"
    version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-rules-runtime-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Rules Runtime (impl)" name="qlack2-fuse-rules-runtime-impl"
    version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-rules-runtime-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Rules Runtime (deps)" name="qlack2-fuse-rules-runtime-deps"
    version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature version="${jbpm.version}">drools-module</feature>
    <bundle>mvn:org.drools/drools-persistence-api/${jbpm.version}</bundle>
    <bundle>mvn:org.drools/drools-persistence-jpa/${jbpm.version}</bundle>
    <!-- TEST dependencies -->
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- SCHEDULER                                                                                 -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Scheduler" name="qlack2-fuse-scheduler" version="${project.version}">
    <feature>qlack2-fuse-scheduler-deps</feature>
    <feature>qlack2-fuse-scheduler-api</feature>
    <feature>qlack2-fuse-scheduler-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Scheduler (api)" name="qlack2-fuse-scheduler-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-scheduler-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Scheduler (impl)" name="qlack2-fuse-scheduler-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-scheduler-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Scheduler (deps)" name="qlack2-fuse-scheduler-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <bundle>mvn:commons-lang/commons-lang/${commons.lang.version}</bundle>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <bundle>mvn:commons-io/commons-io/${commons.io.version}</bundle>
    <bundle>wrap:mvn:c3p0/c3p0/${c3p0.version}</bundle>
    <bundle>mvn:com.zaxxer/HikariCP-java6/${HikariCP-java6.version}</bundle>
    <bundle>mvn:org.javassist/javassist/${javassist.version}</bundle>
    <bundle>mvn:org.quartz-scheduler/quartz/${quartz.version}</bundle>
    <bundle>mvn:org.apache.aries.blueprint/blueprint-maven-plugin-annotation/${blueprint-maven-plugin-annotation.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- SEARCH                                                                                    -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Search" name="qlack2-fuse-search" version="${project.version}">
    <feature>qlack2-jackson-libs</feature>
    <feature>qlack2-fuse-search-deps</feature>
    <feature>qlack2-fuse-search-api</feature>
    <feature>qlack2-fuse-search-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Search (api)" name="qlack2-fuse-search-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-search-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Search (impl)" name="qlack2-fuse-search-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-search-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Search (deps)" name="qlack2-fuse-search-deps" version="${project.version}">
    <feature>pax-cdi</feature>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.javax-inject/${org.apache.servicemix.bundles.javax-inject.version}</bundle>
    <bundle>mvn:org.apache.httpcomponents/httpcore-osgi/${httpcore-osgi.version}</bundle>
    <bundle>mvn:org.apache.httpcomponents/httpclient-osgi/${httpclient-osgi.version}</bundle>
    <bundle>mvn:org.apache.httpcomponents/httpasyncclient-osgi/${httpasyncclient-osgi.version}</bundle>
    <bundle>wrap:mvn:org.elasticsearch.client/rest/${elasticsearch.client-rest.version}</bundle>
    <bundle>mvn:org.mapstruct/mapstruct-jdk8/${mapstruct.version}</bundle>
    <bundle>mvn:com.fasterxml.jackson.datatype/jackson-datatype-jsr310/${jackson.datatype.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- SECURITY PROXY                                                                            -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Security proxy" name="qlack2-fuse-security-proxy" version="${project.version}">
    <feature>qlack2-fuse-security-proxy-deps</feature>
    <feature>qlack2-fuse-security-proxy-api</feature>
    <feature>qlack2-fuse-security-proxy-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Security proxy (api)" name="qlack2-fuse-security-proxy-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-security-proxy-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Security proxy (impl)" name="qlack2-fuse-security-proxy-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-security-proxy-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Security proxy (deps)" name="qlack2-fuse-security-proxy-deps" version="${project.version}">
    <feature version="${karaf.cxf.version}">cxf-jaxrs</feature>
    <feature>qlack2-fuse-idm</feature>
    <feature>cxf-jaxrs</feature>
    <feature>cxf-rs-security-cors</feature>
    <bundle>mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.aspectj/${aspectj.servicemix.version}</bundle>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-idm-api/${project.version}</bundle>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-ticket-server-api/${project.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- SETTINGS                                                                                  -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Settings" name="qlack2-fuse-settings" version="${project.version}">
    <feature>qlack2-fuse-settings-deps</feature>
    <feature>qlack2-fuse-settings-api</feature>
    <feature>qlack2-fuse-settings-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Settings (api)" name="qlack2-fuse-settings-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-settings-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Settings (impl)" name="qlack2-fuse-settings-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-settings-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Settings (deps)" name="qlack2-fuse-settings-deps" version="${project.version}">
    <feature>qlack2-util-repack-jpadb</feature>
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-querydsl</feature>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- SIMM                                                                                      -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - SIMM" name="qlack2-fuse-simm" version="${project.version}">
    <feature>qlack2-fuse-simm-deps</feature>
    <feature>qlack2-fuse-simm-api</feature>
    <feature>qlack2-fuse-simm-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - SIMM (api)" name="qlack2-fuse-simm-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-simm-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - SIMM" name="qlack2-fuse-simm-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-simm-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - SIMM (deps)" name="qlack2-fuse-simm-deps" version="${project.version}">
    <feature>qlack2-util-repack-jpadb</feature>
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-querydsl</feature>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- TICKET SERVER                                                                             -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Ticket Server" name="qlack2-fuse-ticketserver" version="${project.version}">
    <feature>qlack2-fuse-ticket-server-deps</feature>
    <feature>qlack2-fuse-ticket-server-api</feature>
    <feature>qlack2-fuse-ticket-server-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Ticket Server (api)" name="qlack2-fuse-ticket-server-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-ticket-server-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Ticket Server (impl)" name="qlack2-fuse-ticket-server-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-ticket-server-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Ticket Server (deps)" name="qlack2-fuse-ticket-server-deps" version="${project.version}">
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>jndi</feature>
    <feature prerequisite="true">wrap</feature>
    <bundle>mvn:com.google.guava/guava/${google-guava.version}</bundle>
    <bundle>mvn:joda-time/joda-time/${joda.version}</bundle>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- WIKI                                                                                      -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Wiki" name="qlack2-fuse-wiki" version="${project.version}">
    <feature>qlack2-fuse-wiki-deps</feature>
    <feature>qlack2-fuse-wiki-api</feature>
    <feature>qlack2-fuse-wiki-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Wiki (api)" name="qlack2-fuse-wiki-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-wiki-api/${project.version}</bundle>
    <feature>qlack2-common-util</feature>
  </feature>
  <feature description="QLACK2 Fuse - Wiki (impl)" name="qlack2-fuse-wiki-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-wiki-impl/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Wiki (deps)" name="qlack2-fuse-wiki-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>qlack2-util-repack-querydsl</feature>
    <bundle>mvn:org.apache.commons/commons-lang3/${commons.lang3.version}</bundle>
  </feature>


  <!-- Features which haven't been split to api/impl yet -->
  <feature description="QLACK2 Fuse - AAA shell" name="qlack2-fuse-AAA-shell" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-aaa-commands/${project.version}</bundle>
  </feature>

  <feature description="QLACK2 Fuse - Event publisher" name="qlack2-fuse-eventpublisher" version="${project.version}">
    <feature>eventadmin</feature>
    <bundle>mvn:commons-beanutils/commons-beanutils/${commons.beanutils.version}</bundle>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-event-publisher-api/${project.version}</bundle>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-event-publisher-impl/${project.version}</bundle>
  </feature>

  <feature description="QLACK2 Fuse - Workflow Runtime" name="qlack2-fuse-workflow-runtime" version="${project.version}">
    <configfile finalname="/etc/com.eurodyn.qlack2.fuse.workflowruntime.cfg">mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-workflow-runtime-impl/${project.version}/cfg/config-admin</configfile>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>qlack2-common-util</feature>
    <feature>qlack2-util-jbpm-runtime</feature>
    <feature version="${project.version}">qlack2-fuse-auditing</feature>
    <feature version="${project.version}">qlack2-fuse-eventpublisher</feature>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-rules-runtime-api/${project.version}</bundle>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-workflow-runtime-api/${project.version}</bundle>
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-workflow-runtime-impl/${project.version}</bundle>
  </feature>

  <!-- ***************************************************************************************** -->
  <!-- Template Service                                                                                      -->
  <!-- ***************************************************************************************** -->
  <feature description="QLACK2 Fuse - Template Service" name="qlack2-fuse-template-service" version="${project.version}">
    <feature>qlack2-fuse-template-service-api</feature>
    <feature>qlack2-fuse-template-service-impl</feature>
  </feature>
  <feature description="QLACK2 Fuse - Template Service (api)" name="qlack2-fuse-template-service-api" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-template-service-api/${project.version}</bundle>
  </feature>
  <feature description="QLACK2 Fuse - Template Service (impl)" name="qlack2-fuse-template-service-impl" version="${project.version}">
    <bundle>mvn:com.eurodyn.qlack2.fuse/qlack2-fuse-template-service-impl/${project.version}</bundle>
   <feature>qlack2-util-repack-docx4j</feature>
  </feature>
    <feature description="QLACK2 Fuse - Template Service (deps)" name="qlack2-fuse-template-service-deps" version="${project.version}">
    <feature prerequisite="true">wrap</feature>
    <feature>pax-cdi</feature>
    <feature>qlack2-util-repack-jpadb</feature>
    <feature>qlack2-util-repack-querydsl</feature>
	
	<!-- Dependencies of docx4j -->
	<bundle>wrap:mvn:org.docx4j/docx4j/3.3.6</bundle>
    <bundle>wrap:mvn:commons-io/commons-io/1.3.1</bundle>
    <bundle>wrap:mvn:org.apache.xmlgraphics/xmlgraphics-commons/2.1</bundle>
  </feature>
</features>
